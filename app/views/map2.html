<google-map center='mapConf.center' zoom="mapConf.zoom" options="mapConf.options" draggable="true" id="gmap">
  <div data-ng-repeat="seq in rawStopsSequences" ng-switch on="seq.properties.visible">
    <div ng-switch-when="true">
      <markers
          models="seq.data"
          coords="'self'"
          options=""
          labelContent="'cntSequence'"
          labelAnchor="10 0"
          labelClass="marker-label">
        <windows show="'showWindow'" closeClick="'closeClick'" ng-cloak>

          <table data-ng-non-bindable>
            <tr>
              <td>rawId</td>
              <td>{{rawId}}</td>
            </tr>
            <tr>
              <td>rawStopId</td>
              <td>{{rawStopId}}</td>
            </tr>
            <tr>
              <td>arrival</td>
              <td>{{arrival}}</td>
            </tr>
            <tr>
              <td>departure</td>
              <td>{{departure}}</td>
            </tr>
            <tr>
              <td>latitude</td>
              <td>{{ latitude }}</td>
            </tr>
            <tr>
              <td>longitude</td>
              <td>{{longitude}}</td>
            </tr>
            <tr>
              <td>distance</td>
              <td>{{distance}}</td>
            </tr>
            <tr>
              <td>status</td>
              <td>{{status}}</td>
            </tr>
            <tr>
              <td>hasCntStop</td>
              <td>{{hasCntStop}}</td>
            </tr>
            <tr>
              <td>cntStopKey</td>
              <td>{{cntStopKey}}</td>
            </tr>
            <tr>
              <td>cntTripKey</td>
              <td>{{cntTripKey}}</td>
            </tr>
            <tr>
              <td>cntSequence</td>
              <td>{{cntSequence}}</td>
            </tr>
          </table>

        </windows>
      </markers>
      <polyline path="seq.data" stroke="mapConf.lines[seq.properties.matchingStatus]"></polyline>
    </div>
  </div>


  <div data-ng-repeat="seq in plannedStopsSequences" ng-switch on="seq.properties.visible">
    <div ng-switch-when="true">
      <markers
          models="seq.data"
          coords="'self'"
          options=""
          labelContent="'sequence'"
          labelAnchor="10 0"
          labelClass="marker-label">
        <windows show="'showWindow'" closeClick="'closeClick'" ng-cloak>

          <table data-ng-non-bindable>
            <tr>
              <td>blockLabel</td>
              <td>{{blockLabel}}</td>
            </tr>
            <tr>
              <td>pointLabel</td>
              <td>{{pointLabel}}</td>
            </tr>
            <tr>
              <td>blockKey</td>
              <td>{{blockKey}}</td>
            </tr>
            <tr>
              <td>tripKey</td>
              <td>{{tripKey}}</td>
            </tr>
            <tr>
              <td>tripTypId</td>
              <td>{{tripTypId}}</td>
            </tr>
            <tr>
              <td>sequence</td>
              <td>{{sequence}}</td>
            </tr>
            <tr>
              <td>departure</td>
              <td>{{departure}}</td>
            </tr>
            <tr>
              <td>latitude</td>
              <td>{{ latitude }}</td>
            </tr>
            <tr>
              <td>longitude</td>
              <td>{{longitude}}</td>
            </tr>
            <tr>
              <td>distance</td>
              <td>{{distance}}</td>
            </tr>
            <tr>
              <td>numberStops</td>
              <td>{{numberStops}}</td>
            </tr>

          </table>

        </windows>
      </markers>
      <polyline path="seq.data" stroke="mapConf.lines.scheduled"></polyline>
    </div>
  </div>

  <!--<markers models="plannedStops" coords="'self'"></markers>-->

</google-map>


<div class="map-panel-wrapper">

  <div class="map-panel">
    <h3>Found sequences (<span class="matched">matched</span> / <span class="unmatched">unmatched</span>)</h3>

    <div data-ng-repeat="seq in rawStopsSequences" data-ng-switch data-on="seq.properties.visible"
         data-ng-class="seq.properties.matchingStatus">
      <input
          type="checkbox"
          data-ng-model="seq.properties.visible"
          data-ng-checked="false"
          data-ng-true-value="true"
          data-ng-false-value="false"
          />
      {{$index + 1}}) {{ seq.properties.departureTime }} ({{seq.data.length}})
    </div>
  </div>

  <div class="map-panel">
    <h3>Planned Stop Sequences</h3>

    <div data-ng-repeat="seq in plannedStopsSequences" data-ng-switch data-on="seq.properties.visible"
         class="scheduled">
      <input
          type="checkbox"
          data-ng-model="seq.properties.visible"
          data-ng-checked="false"
          data-ng-true-value="true"
          data-ng-false-value="false"
          />
      {{$index + 1}}) {{ seq.properties.departureTime }} ({{seq.data.length}})
    </div>
  </div>

</div>