<!-- begin: gMap --><div data-ng-switch="" data-on="showMap"><div class="loading-spinner" data-ng-show="spinner[1]"><div class="loading-spinner__spinner"></div></div><div data-ng-switch-when="true"><google-map center="mapConfig.center" zoom="mapConfig.zoom" options="mapConfig.options" draggable="true" events="mapEvents" id="gmap"><div data-ng-if="selectedMarker"><window coords="selectedMarker" show="true" closeclick="true" options="mapConfig.pointMarkerWindow"><div data-ng-controller="linePointMarkerWindow"><table class="overlay-table"><tr><td>Line:<td>{{ selectedMarker.lineLabel }}<tr><td>Point:<td data-selector="point-label">{{ selectedMarker.pointLabel }}<tr><td>Lat:<td>{{ selectedMarker.latitudeOld || selectedMarker.latitude}}<tr><td>Lng:<td>{{selectedMarker.longitudeOld || selectedMarker.longitude }}<tr><td>New Lat:<td>{{selectedMarker.latitudeNew}}<tr><td>New Lng:<td>{{selectedMarker.longitudeNew}}</table><button data-ng-show="true" data-ng-click="updateLinePointCoordinates()">update coordinates</button></div></window></div><div data-ng-switch="" data-on="showUnmatchedStopVariation"><div data-ng-switch-when="true"><markers models="stopVariation.unmatched" coords="'self'" options="mapConfig.roundMarkers.red" labelanchor="4 24" labelclass="marker-label"><windows show="'showWindow'" closeclick="'closeClick'" ng-cloak=""><table data-ng-non-bindable=""><tr><td>arrivalAsString<td>{{arrivalAsString}}<tr><td>departureAsString<td>{{departureAsString}}<tr><td>vehicleCode<td>{{vehicleCode}}<tr><td>hasCntStop<td>{{hasCntStop}}</table></windows></markers></div></div><div ng-switch="" on="showMatchedStopVariation"><div ng-switch-when="true"><markers models="stopVariation.matched" coords="'self'" options="mapConfig.roundMarkers.green" labelanchor="4 24" labelclass="marker-label"><windows show="'showWindow'" closeclick="'closeClick'" ng-cloak=""><table data-ng-non-bindable=""><tr><td>arrivalAsString<td>{{arrivalAsString}}<tr><td>departureAsString<td>{{departureAsString}}<tr><td>latitude<td>{{latitude}}<tr><td>longitude<td>{{longitude}}<tr><td>vehicleCode<td>{{vehicleCode}}<tr><td>cntTripKey<td>{{cntTripKey}}</table></windows></markers></div></div><div data-ng-repeat="seq in linePointsSequences" data-ng-switch="" on="seq.properties.visible"><div ng-switch-when="true"><markers models="seq.data" coords="'self'" options="mapConfig.pinMarkers.blue" events="markersEvents"></markers></div></div></google-map></div></div><!-- end: gMap --><!-- begin: left panel --><div class="map-panel-wrapper"><h3>Stop Cluster View</h3><div class="accordion"><!-- begin: panel 1 --><div class="accordion__item"><div class="accordion__header active" data-accordion-header=""><h4 class="accordion__title">Show stops of selected area</h4><span class="accordion__header-icon"></span></div><div class="accordion__body active"><form data-ng-submit="submit()" class="query-form"><div class="box"><div class="box__header">Date</div><div class="box__body"><table class="full-width"><tr><td>From<td>To<tr><td><input type="text" data-ng-model="queryParams.dateFrom" value=""><td><input type="text" data-ng-model="queryParams.dateTo" value=""></table></div></div><div class="wrapper" id="test"><div class="loading-spinner" data-ng-show="spinner[0]"><div class="loading-spinner__spinner"></div></div><div class="messages"><p>Number of entries: {{messages.numberOfStops}}</p><p>{{messages.loading}}</p><p class="red">{{messages.lengthWarning}}</p></div><div><p data-ng-show="messages.numberOfStops <= maxNumberOfStops"><label class="green"><input type="checkbox" data-ng-model="showMatchedStopVariation" data-ng-checked="true" data-ng-true-value="true" data-ng-false-value="false">Show matched stops ({{stopVariation.matched.length}})</label><br><label class="red"><input type="checkbox" data-ng-model="showUnmatchedStopVariation" data-ng-checked="true" data-ng-true-value="true" data-ng-false-value="false">Show unmatched stops ({{stopVariation.unmatched.length}})</label></p><p><button type="submit">Update stops</button></p></div></div></form></div></div><!-- end: panel 1 --><!-- begin: panel 2 --><div class="accordion__item"><div class="accordion__header active" data-accordion-header=""><h4 class="accordion__title">Lines</h4><span class="accordion__header-icon"></span></div><div class="accordion__body active line-panel"><table class="panel-table" data-ng-show="linePointsSequences"><tr><th>Show<th>Line label<th>Points<tr data-ng-repeat="seq in linePointsSequences" data-ng-switch="" data-on="seq.properties.visible" class="blue"><td><input type="checkbox" data-ng-model="seq.properties.visible" data-ng-checked="seq.properties.visible"><td>{{ seq.properties.lineLabel }}<td>{{seq.data.length}}</table></div></div><!-- begin: panel 2 --></div></div><!-- end: left panel -->